id: hsdec_ldpc_decoder
label: ldpc_decoder
category: '[hsdec]'

templates:
  imports: from gnuradio import hsdec
  make: hsdec.ldpc_decoder(${alist_file}, ${code_type}, ${iterations}, ${sigma}, ${update_sigma}, ${pack})

parameters:
  - id: alist_file
    name: Alist File
    dtype: string
    default: ""
    label: Alist File
    # callback: open($file)

  - id: code_type
    name: Code Type
    dtype: int
    default: 1
    label: Code Type
    options: [0, 1, 2]
    option_labels: ["CCSDS C2(8176,7154)", "CCSDS C2(8160,7136)", "AR4JA_r12_k1024n LDPC(2048,1024)"]

  - id: iterations
    name: Iterations
    dtype: int
    default: 2
    label: Iterations

  - id: sigma
    name: Sigma
    dtype: float
    default: 0.707
    label: Sigma

  - id: update_sigma
    name: Update Sigma
    dtype: int
    default: 1
    label: Update Sigma
    options: [1, 0]
    option_labels: ["ON", "OFF"]

  - id: pack
    name: Pack
    dtype: int
    default: 1
    label: Pack
    options: [1, 0]
    option_labels: ["True", "False"]

inputs:
- label: in
  domain: message
outputs:
- label: out
  domain: message
  optional: true
- label: err
  domain: message
  optional: true
#  'file_format' specifies the version of the GRC yml format used in the file
#  and should usually not be changed.
file_format: 1
